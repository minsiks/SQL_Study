# SQL 기본, 활용/~p74

## 2-1 SQL 기본

> 엄청 많이 틀림

### 부정 비교 연산자

- != : 같지 않다
- ^= : 같지 않다.
- <> : 같지 않다 (ISO 표준, 모든 운영체제에서 사용 가능)
- NOT 칼럼명 = : ~ 와 같지 않다.
- NOT 칼럼명 > : ~ 보다 크지 않다

### YYYYMMDDHH24MISS

- 연월일시(24)분초

### 연산자의 종류

- 비교 연산자
  - 쉬우니 패스
- SQL 연산자
  - IS NULL : NULL 값인 경우
- 논리 연산자
  - NOT : 뒤에 오는 조건에 반대되는 결과를 되돌려 준다.
- 부정 비교 연산자
  - 앞에 참고
- 부정 SQL 연산자
  - NOT BETWEEN
  - NOT IN
  - IS NOT NULL : NULL 값을 갖지 않는다.

### 내장함수

- 함수는 벤더에서 제공하는 함수인 내장 함수와 사용자가 정의할 수 있는 함수로 나눌 수 있다.
- 내장 함수는 다시 단일행 함수와 다중행 함수로 나눌 수 있으며, 다중행 함수는 집계 함수, 그룹 함수, 윈도우 함수로 구분된다.

### 단일행 함수의 종류

#### 문자형 함수

- CONCAT(문자열1, 문자열2)
  - 문자열 1과 문자열2를 연결한다.
- SUBSTR(문자열,M [,n])
  -  문자열 중 m위치에서 n개의 문자 길이에 해당하는 문자를 돌려준다. n이 생략되면 마지막 문자까지이다.
- TRIM 
  - 문자열에서 머리말, 꼬리말, 또는 양쪽에 있는 지정 문자를 제거한다.

#### 숫자형 함수

- ABS
- TAN
- LOG
- 등등

#### 날짜형 함수

- DATE 타입의 값을 연산한다
- SYSDATE 등등

#### 변환형 함수

- TO_NUMBER

#### NULL 관련 함수

- NVL/ISNULL, NULLIF, COALESCE

### CASE

- 조건에 따라서 값을 지정해 주는 CASE문
- CASE ~ WHEN ~ THEN ~ ELSE ~ END

### 단일행 NULL 관련 함수의 종류

- NVL(표현식1, 표현식2) /ISNULL(표현식1, 표현식2)
  - 표현식1의 결과값이 NULL이면 표현식 2의 값을 출력한다.
  - 단, 표현식1과 표현식2의 결과 데이터 타입이 같아야 한다.
- NULLIF(표현식1, 표현식2)
  - 표현식1이 표현식2와 같으면 NULL을 같지 않으면 표현식1을 리턴한다.
- COALESCE(표현식1,표현식2, ...)
  - 임의의 개수 표현식에서 NULL이 아닌 최초의 표현식을 나타낸다.

### 집계 함수의 종류

- COUNT
- SUM
- AVG
- 등등

### ORDER BY

- ASC
  - 오름차순
- DESC
  - 내림차순
- 특징
  - 기본적인 정렬 순서는 오름차순이다.
  - 숫자형 데이터 타입은 오름차순으로 정렬했을 경우에 가장 작은값 부터 출력된다.
  - 날짜형 데이터 타입은 오름차순으로 정렬 했을 경우 날짜 값이 가장 빠른 값이 먼저 출력된다.
  - Oracle에서는 NULL 값을 가장 큰 값으로 간주 / SQL Sever에서는 반대
  - GROUP BY 절을 사용하는 경우 ORDER BY 절에 집계 함수를 사용할 수도 있다.

### JOIN

- 일반적으로 JOIN은 PK와 FK 값의 연관성에 의해 성립된다.
- EQUI JOIN은 JOIN에 관여하는 테이블 간의 컬럼 값들이 정확하게 일치하는 경우에 사용되는 방법이다.
- EQUI JOIN은 '=' 연산자에 의해서만 수행되며, 그 이외의 비교 연산자를 사용하는 경우에는 모두 NON EQUI JOIN이다.
- 대부분 NON EQUI JOIN을 수행할 수 있지만, 때로는 설꼐상의 이유로 수행이 불가능한 경우도 있다.

### ★문제풀이 (오답노트)

##### 36. NULL 값을 조건절에서 사용하는 경우 IS NULL, IS NOT NULL이란 키워드를 사용해야 한다.

##### 37. ORACLE에서 " 라고 데이터가 입력되면 NULL로 입력된다

##### 38. BETWEEN a AND b

##### 39. AND 와 OR 구분

##### 40. 내장함수 설명

- 함수의 입력 행수에 따라 단일행 함수와 다중행 함수로 구분할 수 있다.
- 단일행 함수는 SELECT, WHERE, ORDER BY, UPDATE의 SET 절에 사용이 가능하다.
- 1:M 조인이라 하더라도 M쪽에서 출력된 행이 하나씩 단일행 함수의 입력값으로 사용되므로 사용할 수 있다.
- 다중행 함수도 단일행 함수와 동일하게 값만을 반환한다.

##### 41. ?

##### 42. 오라클에서 날짜의 연산은 숫자의 연산과 같다. 

- 1/24/60 = 1분
- 1/24/(60/10) = 10분
- 1 = 1일
- 1/24 = 1시간

##### 43. LOC WHEN 'NEW YORK' THEN 'EAST'

##### 46. NULLIF

- EXPR1이 EXPR2와 같으면 NULL을, 같지 않으면 EXPR1을 리턴한다.

##### 47. 0/300 = 0

##### 48. ?

##### 49. COALESCE

##### 53. GROUP BY 없이 HAVING 절이 나올 수 있다.

##### 56. GROUP BY를 사용할 경우 GROUP BY 표현식이 아닌 값은 기술 될 수 없다.

##### 57. ORDER BY 절에 컬럼명 대신 Alias 명이나 컬럼 순서를 나타내는 정수도 사용이 가능하나, 이들을 혼용하여 사용할 수 있다.

##### 63. DBMS 옵티마이저는 FROM 절에 나열된 테이블이 아무리 많아도 항상 2개의 테이블씩 짝을 지어 JOIN을 수행한다.

##### 64. LIKE 연산자를 이용한 조인의 이해